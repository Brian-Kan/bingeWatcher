(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(85)},39:function(e,t,a){},40:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),r=a(13),i=a.n(r),o=(a(39),a(5)),l=a(6),c=a(8),u=a(7),m=a(9),h=(a(40),a(12)),d=a(17),p=a.n(d),v=a(20),f=a.n(v);f.a.initializeApp({apiKey:"AIzaSyCJuJHHf2txiuyxYODzn0GUzac1Ewtx5Zw",authDomain:"superduperlatives.firebaseapp.com",databaseURL:"https://superduperlatives.firebaseio.com",projectId:"superduperlatives",storageBucket:"superduperlatives.appspot.com",messagingSenderId:"91289186734",appId:"1:91289186734:web:ff796a4e3ea069f3"});var b=f.a,w=a(19),y=a.n(w),g=a(11),E=a.n(g),S=a(33),L=a.n(S),N=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("ul",{className:"showSelection"},this.props.showTitle.map(function(t,a){return n.a.createElement("li",{key:a},n.a.createElement("p",null,t.title),n.a.createElement("button",{className:"removeButton",onClick:function(){return e.props.removeShow(a)}}))}))}}]),t}(s.Component),k=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).randomNumber=function(e,t){return Math.floor(Math.random()*(t-e))+e},e.handleChange=function(t){e.setState({userInput:t.target.value})},e.handleSearch=function(t){if(t.preventDefault(),""===e.state.userInput)E()({title:"Don't leave the text field empty!!",icon:"warning",button:"Nice."});else{var a=e.state.userInput;e.setState({userSearch:a},function(){e.searchShows(e.state.userSearch)})}},e.searchShows=function(t){p()({method:"GET",url:"http://api.tvmaze.com/search/shows",dataResponse:"json",params:{q:t}}).then(function(t){if(console.log("results",t.data),0===t.data.length)E()({title:"Sorry, we couldn't find any shows for you. Please try searching for another show",icon:"warning",button:"Nice."});else{var a=t.data.filter(function(e){return null!=e.show.image&&null!=e.show.summary});console.log(a),e.setState({showsArray:a})}}).catch(function(e){console.log("error")})},e.handleKeyPress=function(t){"Enter"===t.key&&e.showDetails(t)},e.showDetails=function(t){var a=t.target.getAttribute("data-title"),s=t.target.getAttribute("data-id"),n=t.target.getAttribute("data-summary"),r=t.target.getAttribute("data-image"),i=n.replace(/<[^>]+>/g,"");e.setState({showsInfo:{title:a,id:s,summary:i,image:r}},function(){e.handleDisplayModal()})},e.handleDisplayModal=function(){e.setState({isModalShown:!0,activeTrap:!0})},e.closeModal=function(t){t.preventDefault(),e.setState({isModalShown:!1,activeTrap:!1})},e.openListCreator=function(t){t.preventDefault(),e.setState({isListCreatorShown:!0})},e.addToList=function(t){if(t.preventDefault(),e.state.userTvShows.length<10){var a=Object(h.a)(e.state.idArray),s={title:e.state.showsInfo.title,value:1,background:e.state.showsInfo.image},n=Object(h.a)(e.state.userTvShows);n.push(s),e.setState({userTvShows:n,idArray:a,isListCreatorShown:!0,isEmptyList:!1}),console.log(e.state.idArray)}else e.setState({isModalShown:!1}),E()({title:"You may only add up to 10 shows to your list!",icon:"warning",button:"Nice."})},e.removeShow=function(t){var a=Object(h.a)(e.state.userTvShows);a.splice(t,1),e.setState({userTvShows:a})},e.handleSubmitChange=function(t){e.setState({userSubmitTitle:t.target.value})},e.submitList=function(t){if(t.preventDefault(),0!=e.state.userTvShows.length&&""!=e.state.userSubmitTitle){var a={title:e.state.userSubmitTitle,userList:e.state.userTvShows};b.database().ref().push(a),e.setState({userTvShows:[],userSubmitTitle:"",isSubmittedShown:!0}),E()({title:"Thank you for submitting your list! Vote for your favorite shows on our community boards below!",icon:"success",button:"Nice."})}else E()({title:"Whoops! Looks like you didn't complete your list! Make sure to add at least one TV show and name your list.",icon:"warning",button:"Nice."})},e.state={userInput:"",userSearch:"",showsArray:[],showsInfo:{},isModalShown:!1,userTvShows:[],userSubmitTitle:"",idArray:[],isListCreatorShown:!1,isEmptyList:!0,isSubmittedShown:!1,activeTrap:!1},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=["comedy","food","horror","action","drama","love","anime","disney"],a=this.randomNumber(0,t.length);p()({method:"GET",url:"http://api.tvmaze.com/search/shows",dataResponse:"json",params:{q:t[a]}}).then(function(t){var a=t.data.filter(function(e){return null!=e.show.image&&null!=e.show.summary});e.setState({showsArray:a})}).catch(function(e){console.log("error")})}},{key:"render",value:function(){var e=this;return n.a.createElement("header",{className:"hero wrapper"},this.state.isModalShown?n.a.createElement("div",{className:"heroOverlay"}):null,n.a.createElement("div",{className:"heroContent"},n.a.createElement("div",{className:"headerSearchBar"},n.a.createElement("div",{className:"appInfo"},n.a.createElement("h1",null,"Binge Watchers"),n.a.createElement("p",{className:"slogan"},"Make a TV show list for your next binge")),n.a.createElement("form",{action:"",className:"searchForm"},n.a.createElement("label",{htmlFor:"searchBar"}),n.a.createElement("input",{id:"searchBar",onChange:this.handleChange,type:"text",placeholder:"eg. transformers, top gear, brooklyn 99... "}),n.a.createElement("input",{onClick:this.handleSearch,type:"submit",value:"Search"}))),n.a.createElement("div",{className:"showLists animated fadeInUp"},n.a.createElement("div",{className:"showResults"},n.a.createElement(y.a,{accessibility:!0,adaptiveHeight:!0,autoplay:!0,autoplaySpeed:3500,centerMode:!0,dots:!0,infinite:!0,speed:750,slide:!0,slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,variableWidth:!0},this.state.showsArray.map(function(t,a){return n.a.createElement("div",{key:t.show.id,className:"showPoster"},n.a.createElement("img",{src:t.show.image.original,alt:"","data-id":t.show.id,"data-summary":t.show.summary,"data-title":t.show.name,"data-image":t.show.image.original,onClick:e.showDetails,onKeyPress:e.handleKeyPress,tabIndex:"0"}))})))),this.state.isModalShown?n.a.createElement(L.a,null,n.a.createElement("div",{className:"modalWrapper"},n.a.createElement("div",{className:"showModal"},n.a.createElement("div",{className:"modalImage"},n.a.createElement("img",{src:this.state.showsInfo.image,alt:this.state.showsInfo.title})),n.a.createElement("div",{className:"modalText"},n.a.createElement("h2",null,this.state.showsInfo.title),n.a.createElement("p",null,this.state.showsInfo.summary),n.a.createElement("div",{className:"modalButtons"},n.a.createElement("button",{className:"clickAdd",onClick:this.addToList},"Add to List"),n.a.createElement("button",{className:"clickClose",onClick:this.closeModal},"X")))))):null,this.state.isListCreatorShown?n.a.createElement("div",{className:"listCreator"},n.a.createElement("div",{className:"listWrapper animated fadeInUp"},n.a.createElement("div",{className:"formWrapper animated fadeInUp",id:"formWrapper"},n.a.createElement("form",{className:"listCreatorForm",action:"",onSubmit:this.submitList},n.a.createElement("input",{id:"userListTitle",onChange:this.handleSubmitChange,type:"text",value:this.state.userSubmitTitle,placeholder:"Name Your List"}),n.a.createElement("label",{htmlFor:"userListTitle"}),n.a.createElement("input",{type:"submit",value:"Submit List"})),this.state.isEmptyList?n.a.createElement("div",{className:"emptyList"},n.a.createElement("p",null,"You have not added any TV shows to your list yet."),n.a.createElement("p",null,"Browse TV Shows by clicking on the titles and add to your list")):null,n.a.createElement("div",{className:"userWrapper"},n.a.createElement(N,{showTitle:this.state.userTvShows,removeShow:this.removeShow}))))):n.a.createElement("button",{className:"startCreator",onClick:this.openListCreator},"Click here to Build Your List")))}}]),t}(s.Component),T=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).valueIncrease=function(t){t.target.closest(".completeList").getAttribute("data-key"),b.database().ref();var a=Object(h.a)(e.state.displayList),s=t.target.value,n=t.target.closest(".completeList").getAttribute("data-id"),r=t.target.closest(".completeList").getAttribute("data-key"),i=a[n].userListObject.userList[s].value+1;a[n].userListObject.userList[s].value=i,e.setState({displayList:a},function(){var t=b.database().ref();t.once("value",function(a){var i=a.val();for(var o in i)o===r&&t.child(o).child("userList").child(s).update({value:e.state.displayList[n].userListObject.userList[s].value})})})},e.valueDecrease=function(t){t.target.closest(".completeList").getAttribute("data-key"),b.database().ref();var a=Object(h.a)(e.state.displayList),s=t.target.value,n=t.target.closest(".completeList").getAttribute("data-id"),r=t.target.closest(".completeList").getAttribute("data-key"),i=a[n].userListObject.userList[s].value,o=i-1;i>0?(a[n].userListObject.userList[s].value=o,e.setState({displayList:a},function(){var t=b.database().ref();t.once("value",function(a){var i=a.val();for(var o in i)o===r&&t.child(o).child("userList").child(s).update({value:e.state.displayList[n].userListObject.userList[s].value})})})):alert("Vote Count Cannot Be Less Than Zero.")},e.state={displayList:[]},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=b.database().ref();t.on("value",function(a){var s=[],n=a.val();for(var r in n){var i;i=n[r].userList.sort(function(e,t){return e.value>t.value?-1:e.value<t.value?1:0}),t.child(r).update({userList:i})}for(var o in n)s.push({id:o,userListObject:n[o]});e.setState({displayList:s})})}},{key:"render",value:function(){var e=this;return n.a.createElement("section",{className:"communityList wrapper",id:"communityList"},n.a.createElement("h2",{className:"communityListTitle"},"Community Lists"),n.a.createElement("div",{className:"communityListContent"},this.state.displayList.map(function(t,a){return n.a.createElement("div",{className:"completeList","data-id":a,"data-key":t.id,key:t.id},n.a.createElement("h3",null,t.userListObject.title),n.a.createElement("ul",null,t.userListObject.userList.map(function(t,a){return n.a.createElement("li",{key:a,className:"titleVoteContent"},n.a.createElement("div",{className:"showHeading",style:{backgroundImage:"url(".concat(t.background,")")}},n.a.createElement("h4",null,t.title),n.a.createElement("div",{className:"overlay"})),n.a.createElement("div",{className:"showRating"},n.a.createElement("p",null,t.value),n.a.createElement("div",{className:"votesButton"},n.a.createElement("button",{className:"upvote",onClick:e.valueIncrease,value:a},"\ud83d\udc4d"),n.a.createElement("button",{className:"downvote",onClick:e.valueDecrease,value:a},"\ud83d\udc4e"))))})))})))}}]),t}(s.Component),j=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("footer",{className:"footer"},n.a.createElement("div",{className:"wrapper footerStyling"},n.a.createElement("div",{class:"subFooterStyling subFooterH2"},n.a.createElement("div",{className:"footerTextInlineBlock"},n.a.createElement("h2",{class:"footerH2"},"Group 6 - SuperDuperLatives :")),n.a.createElement("div",{className:"footerTextInlineBlock"},n.a.createElement("h2",{class:"footerH2"},"API :"))),n.a.createElement("div",{class:"subFooterStyling subFooterLinks"},n.a.createElement("div",{className:"footerTextInlineBlock"},n.a.createElement("a",{href:"https://github.com/superduperlatives/BingeWatcher.git"},"Jeff Yeung, Andrea Maille, Tommy Lay, Brian Kan")),n.a.createElement("div",{className:"footerTextInlineBlock"},n.a.createElement("a",{href:"http://www.tvmaze.com/api"},"TVMAZE")))))}}]),t}(s.Component),O=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(k,null),n.a.createElement(T,null),n.a.createElement(j,null))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.a7d2550c.chunk.js.map